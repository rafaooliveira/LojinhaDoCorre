"use strict";!function(){function e(){b.thumbSwiper&&(b.thumbSwiper.destroy(!0,!0),b={})}function t(e,t){var r=document.querySelector(d);e&&(w=e,t&&(r=w.querySelector(".swiper-container"))),b.slider=r}function r(e){e?b.direction="vertical":b.direction=window.innerWidth<1306?"horizontal":"vertical",b.slider.parentElement.setAttribute("class","thumbs "+b.direction)}function n(){return null!==b.slider}function i(){b.thumbSwiper=new Swiper(b.slider,{slidesPerView:"auto",paginationClickable:!0,spaceBetween:8,loop:!1,direction:b.direction,nextButton:".swiper-button-next",prevButton:".swiper-button-prev"})}function o(){c=window.freedom.nodeListToArray(b.slider.parentElement.querySelectorAll("a")),c.forEach(function(e){"horizontal"===b.direction?(e.setAttribute("class",e.getAttribute("class").replace("up","left")),e.setAttribute("class",e.getAttribute("class").replace("down","right"))):(e.setAttribute("class",e.getAttribute("class").replace("left","up")),e.setAttribute("class",e.getAttribute("class").replace("right","down")))})}function u(e){var t="active",r=e?window.freedom.closest(e,"li"):null,n=r&&r.parentNode&&r.parentNode.querySelectorAll?r.parentNode.querySelectorAll(".active"):null,i=n?window.freedom.nodeListToArray(n):[];i.forEach(function(e){window.freedom.removeClass(e,t)}),r&&(window.freedom.addClass(r,t),a(r.getAttribute("data-index")))}function a(e){var t="active",r=document.querySelector("[data-photo-content]"),n=r.querySelector('[data-index="'+e+'"]'),i=r.querySelectorAll("li");i.forEach(function(e){window.freedom.removeClass(e,t)}),window.freedom.addClass(n,t)}function l(e){e.preventDefault(),e.srcElement&&u(e.srcElement),freedom.nsPubSub.pub("Carrossel.changeIMG",e.target.getAttribute("data-src"),e.target.parentElement.parentElement)}function s(u,a){e(),t(u,a),n()&&(r(a),i(),o(),window.freedom.nsPubSub.pub("thumbs.loaded"))}var c=[],d="[data-slider-wrapper] .swiper-container",w="",b={},f=!1,p=!1;!function(){window.freedom.nsPubSub.sub("Swiper.loaded",function(){s(!1,!1),window.freedom.live(".thumbs .swiper-wrapper li","click",l),window.freedom.nsPubSub.sub("breakPoint.changed",function(){s(p,f)}),window.freedom.nsPubSub.sub("Thumbs.restart",function(e,t){f=t,p=e,s(e,t)})})}()}();
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9yZWZhY3RvcmluZy9fY29tcG9uZW50cy9wcm9kdWN0L3RodW1icy9kZXNrdG9wL3RodW1icy5taW4uanMiXSwibmFtZXMiOlsiZGVzdHJveVN3aXBlciIsInRodW1icyIsInRodW1iU3dpcGVyIiwiZGVzdHJveSIsInNldFNsaWRlciIsIndyYXBwZXIiLCJpc01vZGFsIiwiY29udGV4dCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIlNMSURFUl9XUkFQUEVSIiwiUEhPVE9fTU9EQUxfQ09OVEVOVCIsInNsaWRlciIsImNoZWNrRGlyZWN0aW9uIiwiZGlyZWN0aW9uIiwid2luZG93IiwiaW5uZXJXaWR0aCIsInBhcmVudEVsZW1lbnQiLCJzZXRBdHRyaWJ1dGUiLCJjb250ZXh0SXNWYWxpZCIsInN0YXJ0U3dpcGVyIiwiU3dpcGVyIiwic2xpZGVzUGVyVmlldyIsInBhZ2luYXRpb25DbGlja2FibGUiLCJzcGFjZUJldHdlZW4iLCJsb29wIiwibmV4dEJ1dHRvbiIsInByZXZCdXR0b24iLCJjaGFuZ2VBcnJvd3MiLCJBUlJPV1MiLCJmcmVlZG9tIiwibm9kZUxpc3RUb0FycmF5IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJlbGVtZW50IiwiZ2V0QXR0cmlidXRlIiwicmVwbGFjZSIsImNoYW5nZUFjdGl2ZSIsImFjdGl2ZUNzc0NsYXNzIiwicGFyZW50IiwiY2xvc2VzdCIsImxpc3QiLCJwYXJlbnROb2RlIiwiYWN0aXZlSXRlbXMiLCJlIiwicmVtb3ZlQ2xhc3MiLCJhZGRDbGFzcyIsImNoYW5nZUFjdGl2ZVBEUCIsImluZGV4IiwiZGF0YUluZGV4IiwiY2xpY2tUaHVtYiIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJzcmNFbGVtZW50IiwibnNQdWJTdWIiLCJwdWIiLCJ0YXJnZXQiLCJzZXRMaXN0ZW5lcnMiLCJicmVha1BvaW50TW9kYWxPcGVuIiwiYnJlYWtQb2ludFdyYXBwZXIiLCJzdWIiLCJsaXZlIl0sIm1hcHBpbmdzIjoi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bkMsT0FBT2UsUUFBUXdCLFNBQVNNLElBQUkscUJBQXNCLFdBQ2hESCxFQUFhRSxFQUFtQkQsS0FFbEMzQyxPQUFPZSxRQUFRd0IsU0FBU00sSUFBSSxpQkFBa0IsU0FBVXZELEVBQVNDLEdBQy9Eb0QsRUFBc0JwRCxFQUN0QnFELEVBQW9CdEQsRUFDcEJvRCxFQUFhcEQsRUFBU0MiLCJmaWxlIjoiX3JlZmFjdG9yaW5nL19jb21wb25lbnRzL3Byb2R1Y3QvdGh1bWJzL2Rlc2t0b3AvdGh1bWJzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0JztcbihmdW5jdGlvbiAoKSB7XG5cbiAgLy8gQ09OU1RcbiAgdmFyXG4gICAgQVJST1dTID0gW10sXG4gICAgU0xJREVSX1dSQVBQRVIgPSAnW2RhdGEtc2xpZGVyLXdyYXBwZXJdIC5zd2lwZXItY29udGFpbmVyJyxcbiAgICBQSE9UT19NT0RBTF9DT05URU5UID0gJyc7XG5cbiAgLy8gVmFyaWFibGVzXG4gIHZhclxuICAgIHRodW1icyA9IHt9LFxuICAgIGJyZWFrUG9pbnRNb2RhbE9wZW4gPSBmYWxzZSxcbiAgICBicmVha1BvaW50V3JhcHBlciA9IGZhbHNlO1xuXG4gIC8qKlxuICAgICogQG1ldGhvZCBkZXN0cm95U3dpcGVyXG4gICAgKiBEZXN0cm95IHRoZSBzd2lwZXIgaW5zdGFuY2UgaWYgaXQgYWxyZWFkeSBleGlzdHNcbiAgICAqIEByZXR1cm4ge251bGx9XG4gICAgKi9cbiAgZnVuY3Rpb24gZGVzdHJveVN3aXBlcigpIHtcbiAgICBpZiAodGh1bWJzLnRodW1iU3dpcGVyKSB7XG4gICAgICB0aHVtYnMudGh1bWJTd2lwZXIuZGVzdHJveSh0cnVlLCB0cnVlKTtcbiAgICAgIHRodW1icyA9IHt9O1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgICogQG1ldGhvZCBzZXRTbGlkZXJcbiAgICAqIFNldCB0aGUgc2xpZGVyIGVsZW1lbnRcbiAgICAqIEBwYXJhbSB3cmFwcGVyIHtIVE1MRWxlbWVudH0gUGFyZW50IGVsZW1lbnRcbiAgICAqIEBwYXJhbSBpc01vZGFsXG4gICAgKiBAcmV0dXJuIHtudWxsfVxuICAgICovXG4gIGZ1bmN0aW9uIHNldFNsaWRlcih3cmFwcGVyLCBpc01vZGFsKSB7XG4gICAgdmFyIGNvbnRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFNMSURFUl9XUkFQUEVSKTtcbiAgICBpZiAod3JhcHBlcikge1xuICAgICAgUEhPVE9fTU9EQUxfQ09OVEVOVCA9IHdyYXBwZXI7XG4gICAgICBpZiAoaXNNb2RhbCkge1xuICAgICAgICBjb250ZXh0ID0gUEhPVE9fTU9EQUxfQ09OVEVOVC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLWNvbnRhaW5lcicpO1xuICAgICAgfVxuICAgIH1cbiAgICB0aHVtYnMuc2xpZGVyID0gY29udGV4dDtcbiAgfVxuXG4gIC8qKlxuICAgICogQG1ldGhvZCBjaGVja0RpcmVjdGlvblxuICAgICogQ2hlY2sgdGhlIHdpZHRoIG9mIHRoZSBzY3JlZW4gYW5kIGNoYW5nZSB0aGUgcGFyZW50IGNsYXNzIG9mIHRoZSBzbGlkZXIgd2l0aCB0aGUgY3VycmVudCBkaXJlY3Rpb25cbiAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gaXNNb2RhbCBbdHJ1ZXxmYWxzZV1cbiAgICAqIEByZXR1cm4ge251bGx9XG4gICAgKi9cbiAgZnVuY3Rpb24gY2hlY2tEaXJlY3Rpb24oaXNNb2RhbCkge1xuICAgIGlmIChpc01vZGFsKSB7XG4gICAgICB0aHVtYnMuZGlyZWN0aW9uID0gJ3ZlcnRpY2FsJztcbiAgICB9IGVsc2Uge1xuICAgICAgdGh1bWJzLmRpcmVjdGlvbiA9IHdpbmRvdy5pbm5lcldpZHRoIDwgMTMwNiA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCc7XG4gICAgfVxuICAgIHRodW1icy5zbGlkZXIucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2NsYXNzJywgJ3RodW1icyAnICsgdGh1bWJzLmRpcmVjdGlvbik7XG4gIH1cblxuICAvKipcbiAgICAqIEBtZXRob2QgY29udGV4dElzVmFsaWRcbiAgICAqIFZhbGlkYXRlIGlmIGNvbnRleHQgb2YgU0xJREVSX1dSQVBQRVIgaGFzIGJlZW4gY3JlYXRlZFxuICAgICogQHJldHVybiB7bnVsbH1cbiAgICAqL1xuICBmdW5jdGlvbiBjb250ZXh0SXNWYWxpZCgpIHtcbiAgICByZXR1cm4gdGh1bWJzLnNsaWRlciAhPT0gbnVsbDtcbiAgfVxuXG4gIC8qKlxuICAgICogQG1ldGhvZCBzdGFydFN3aXBlclxuICAgICogQ3JlYXRlIGEgU3dpcGVyIHdpdGggZGlyZWN0aW9uXG4gICAgKiBAcmV0dXJuIHtudWxsfVxuICAgICovXG4gIGZ1bmN0aW9uIHN0YXJ0U3dpcGVyKCkge1xuICAgIHRodW1icy50aHVtYlN3aXBlciA9IG5ldyBTd2lwZXIodGh1bWJzLnNsaWRlciwgeyAvKmVzbGludCBuby11bmRlZjogXCJvZmZcIiovXG4gICAgICBzbGlkZXNQZXJWaWV3OiAnYXV0bycsXG4gICAgICBwYWdpbmF0aW9uQ2xpY2thYmxlOiB0cnVlLFxuICAgICAgc3BhY2VCZXR3ZWVuOiA4LFxuICAgICAgbG9vcDogZmFsc2UsXG4gICAgICBkaXJlY3Rpb246IHRodW1icy5kaXJlY3Rpb24sXG4gICAgICBuZXh0QnV0dG9uOiAnLnN3aXBlci1idXR0b24tbmV4dCcsXG4gICAgICBwcmV2QnV0dG9uOiAnLnN3aXBlci1idXR0b24tcHJldidcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgICogQG1ldGhvZCBjaGFuZ2VBcnJvd3NcbiAgICAqIENoYW5nZSBkaXJlY3Rpb25zIG9mIGFycm93IGluIHNsaWRlclxuICAgICogQHJldHVybiB7bnVsbH1cbiAgICAqL1xuICBmdW5jdGlvbiBjaGFuZ2VBcnJvd3MoKSB7XG4gICAgQVJST1dTID0gd2luZG93LmZyZWVkb20ubm9kZUxpc3RUb0FycmF5KHRodW1icy5zbGlkZXIucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhJykpO1xuICAgIEFSUk9XUy5mb3JFYWNoKGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICBpZiAodGh1bWJzLmRpcmVjdGlvbiA9PT0gJ2hvcml6b250YWwnKSB7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpLnJlcGxhY2UoJ3VwJywgJ2xlZnQnKSk7XG4gICAgICAgIGVsZW1lbnQuc2V0QXR0cmlidXRlKCdjbGFzcycsIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdjbGFzcycpLnJlcGxhY2UoJ2Rvd24nLCAncmlnaHQnKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKS5yZXBsYWNlKCdsZWZ0JywgJ3VwJykpO1xuICAgICAgICBlbGVtZW50LnNldEF0dHJpYnV0ZSgnY2xhc3MnLCBlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKS5yZXBsYWNlKCdyaWdodCcsICdkb3duJykpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgY2hhbmdlQWN0aXZlXG4gICAqIFVwZGF0ZSB0aGUgZWxlbWVudCB3aXRoIGFjdGl2ZSBjc3MgY2xhc3MgaW4gTW9kYWxcbiAgICogQHBhcmFtIGVsZW1lbnRcbiAgICogQHJldHVybiB7bnVsbH1cbiAgICovXG4gIGZ1bmN0aW9uIGNoYW5nZUFjdGl2ZShlbGVtZW50KSB7XG4gICAgdmFyIGFjdGl2ZUNzc0NsYXNzID0gJ2FjdGl2ZSc7XG4gICAgdmFyIHBhcmVudCA9IGVsZW1lbnQgPyB3aW5kb3cuZnJlZWRvbS5jbG9zZXN0KGVsZW1lbnQsICdsaScpIDogbnVsbDtcbiAgICB2YXIgbGlzdCA9IHBhcmVudCAmJiBwYXJlbnQucGFyZW50Tm9kZSAmJiBwYXJlbnQucGFyZW50Tm9kZS5xdWVyeVNlbGVjdG9yQWxsID8gcGFyZW50LnBhcmVudE5vZGUucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZScpIDogbnVsbDtcbiAgICB2YXIgYWN0aXZlSXRlbXMgPSBsaXN0ID8gd2luZG93LmZyZWVkb20ubm9kZUxpc3RUb0FycmF5KGxpc3QpIDogW107XG4gICAgYWN0aXZlSXRlbXMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgd2luZG93LmZyZWVkb20ucmVtb3ZlQ2xhc3MoZSwgYWN0aXZlQ3NzQ2xhc3MpO1xuICAgIH0pO1xuICAgIGlmIChwYXJlbnQpIHtcbiAgICAgIHdpbmRvdy5mcmVlZG9tLmFkZENsYXNzKHBhcmVudCwgYWN0aXZlQ3NzQ2xhc3MpO1xuICAgICAgY2hhbmdlQWN0aXZlUERQKHBhcmVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtaW5kZXgnKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgY2hhbmdlQWN0aXZlUERQXG4gICAqIFVwZGF0ZSB0aGUgZWxlbWVudCB3aXRoIGFjdGl2ZSBjc3MgY2xhc3MgaW4gUERQXG4gICAqIEBwYXJhbSBpbmRleFxuICAgKiBAcmV0dXJuIHtudWxsfVxuICAgKi9cbiAgZnVuY3Rpb24gY2hhbmdlQWN0aXZlUERQKGluZGV4KSB7XG4gICAgdmFyIGFjdGl2ZUNzc0NsYXNzID0gJ2FjdGl2ZSc7XG4gICAgdmFyIGNvbnRleHQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdbZGF0YS1waG90by1jb250ZW50XScpO1xuICAgIHZhciBkYXRhSW5kZXggPSBjb250ZXh0LnF1ZXJ5U2VsZWN0b3IoJ1tkYXRhLWluZGV4PVwiJyArIGluZGV4ICsgJ1wiXScpO1xuICAgIHZhciBsaXN0ID0gY29udGV4dC5xdWVyeVNlbGVjdG9yQWxsKCdsaScpO1xuICAgIGxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgd2luZG93LmZyZWVkb20ucmVtb3ZlQ2xhc3MoZSwgYWN0aXZlQ3NzQ2xhc3MpO1xuICAgIH0pO1xuICAgIHdpbmRvdy5mcmVlZG9tLmFkZENsYXNzKGRhdGFJbmRleCwgYWN0aXZlQ3NzQ2xhc3MpO1xuICB9XG5cbiAgLyoqXG4gICAqIEBtZXRob2QgY2xpY2tUaHVtYlxuICAgKiBDbGljayB0aGUgdGh1bWJcbiAgICogQHBhcmFtIHtFdmVudH0gZXZlbnRcbiAgICogQHJldHVybiB7bnVsbH1cbiAgICovXG4gIGZ1bmN0aW9uIGNsaWNrVGh1bWIoZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGlmIChldmVudC5zcmNFbGVtZW50KSB7XG4gICAgICBjaGFuZ2VBY3RpdmUoZXZlbnQuc3JjRWxlbWVudCk7XG4gICAgfVxuICAgIGZyZWVkb20ubnNQdWJTdWIucHViKCdDYXJyb3NzZWwuY2hhbmdlSU1HJywgZXZlbnQudGFyZ2V0LmdldEF0dHJpYnV0ZSgnZGF0YS1zcmMnKSwgZXZlbnQudGFyZ2V0LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudCk7XG4gIH1cblxuICAvKipcbiAgICogQG1ldGhvZCBzZXRMaXN0ZW5lcnNcbiAgICogQWN0aW9ucyBhZnRlciBhIHNjcmVlbiByZXNpemUgYW5kIGFsc28gb24gcGFnZSBsb2FkXG4gICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IHdyYXBwZXIgUGFyZW50IGVsZW1lbnRcbiAgICogQHBhcmFtIHtCb29sZWFufSBpc01vZGFsIFt0cnVlfGZhbHNlXVxuICAgKiBAcmV0dXJuIHtudWxsfVxuICAgKi9cbiAgZnVuY3Rpb24gc2V0TGlzdGVuZXJzKHdyYXBwZXIsIGlzTW9kYWwpIHtcbiAgICBkZXN0cm95U3dpcGVyKCk7XG4gICAgc2V0U2xpZGVyKHdyYXBwZXIsIGlzTW9kYWwpO1xuICAgIGlmKGNvbnRleHRJc1ZhbGlkKCkpIHtcbiAgICAgIGNoZWNrRGlyZWN0aW9uKGlzTW9kYWwpO1xuICAgICAgc3RhcnRTd2lwZXIoKTtcbiAgICAgIGNoYW5nZUFycm93cygpO1xuICAgICAgd2luZG93LmZyZWVkb20ubnNQdWJTdWIucHViKCd0aHVtYnMubG9hZGVkJyk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFtzZWxmIGNvbnRhaW5lZCBmdW5jdGlvbl1cbiAgICogc3RhcnRzIHRodW1icyBhbmQgaGFuZGxlcnNcbiAgICovXG4gIChmdW5jdGlvbiAoKSB7XG4gICAgd2luZG93LmZyZWVkb20ubnNQdWJTdWIuc3ViKCdTd2lwZXIubG9hZGVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgc2V0TGlzdGVuZXJzKGZhbHNlLCBmYWxzZSk7XG4gICAgICB3aW5kb3cuZnJlZWRvbS5saXZlKCcudGh1bWJzIC5zd2lwZXItd3JhcHBlciBsaScsICdjbGljaycsIGNsaWNrVGh1bWIpO1xuICAgICAgd2luZG93LmZyZWVkb20ubnNQdWJTdWIuc3ViKCdicmVha1BvaW50LmNoYW5nZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNldExpc3RlbmVycyhicmVha1BvaW50V3JhcHBlciwgYnJlYWtQb2ludE1vZGFsT3Blbik7XG4gICAgICB9KTtcbiAgICAgIHdpbmRvdy5mcmVlZG9tLm5zUHViU3ViLnN1YignVGh1bWJzLnJlc3RhcnQnLCBmdW5jdGlvbiAod3JhcHBlciwgaXNNb2RhbCkge1xuICAgICAgICBicmVha1BvaW50TW9kYWxPcGVuID0gaXNNb2RhbDtcbiAgICAgICAgYnJlYWtQb2ludFdyYXBwZXIgPSB3cmFwcGVyO1xuICAgICAgICBzZXRMaXN0ZW5lcnMod3JhcHBlciwgaXNNb2RhbCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSgpKTtcblxufSgpKTtcbiJdfQ==
