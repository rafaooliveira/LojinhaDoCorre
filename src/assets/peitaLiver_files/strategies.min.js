"use strict";window.freedom.carouselStrategies=function(e){function t(e,t,r){return e.getAttribute(t)?""===e.getAttribute(t).replace(/^\s+|\s+$/g,"")?r:e.getAttribute(t):r}function r(t){var r,n=t.container,i=n.length,o=t.slides[t.activeIndex],a="video-active";if(o&&window.freedom.hasClass(o,"ns-video")){var s=o.href?o.href:window.freedom.getDataAttribute(o,"href"),l=window.freedom.getDataAttribute(o,"modal-title"),p=l&&""!==l?l:"VIDEO",d=e.createElement("div"),w=function(e){window.freedom.preventDefault(e);var t=window.freedom.nsSlidePush.open(d,p),r=window.freedom.nsVideo.create({container:d,id:s?window.freedom.getParmsFromUrl(s).v:null,params:window.freedom.getDataAttribute(o,"params")||null});window.freedom.addClass(t,"ns-video-modal"),r&&window.freedom.setDataAttribute(o,"data-iframe",r.id)};for(window.freedom.addClass(d,"ns-video-modal-frame"),window.freedom.nsVideo.updateModules(),window.freedom.removeEvent("click",o,w),window.freedom.addEvent("click",o,w);i--;)r=n[i],r&&r.parentNode&&window.freedom.addClass(r.parentNode,a)}else for(window.freedom.nsVideo&&window.freedom.nsVideo.destroy&&window.freedom.nsVideo.destroy();i--;)r=n[i],r&&r.parentNode&&window.freedom.removeClass(r.parentNode,a)}function n(e){for(var t=e.length;t--;)window.freedom.addEvent("click",e[t],function(e){window.freedom.preventDefault(e)})}function i(e){return new window.Swiper(e,{pagination:e.querySelector(".swiper-pagination"),nextButton:e.querySelector(".swiper-button-next"),prevButton:e.querySelector(".swiper-button-prev"),slidesPerView:parseFloat(t(e,"data-slides-per-view",1)),paginationClickable:!0,spaceBetween:30,loop:!0})}function o(e){var r=parseFloat(t(e,"data-slides-per-view",1)),n=parseFloat(t(e,"data-slides-per-group",1));return new window.Swiper(e,{nextButton:e.querySelector(".swiper-button-next"),prevButton:e.querySelector(".swiper-button-prev"),slidesPerView:parseFloat(t(e,"data-slides-per-view",1)),slidesPerGroup:parseFloat(t(e,"data-slides-per-group",1)),spaceBetween:parseFloat(t(e,"data-space-between",0)),breakpoints:{1305:{slidesPerView:parseFloat(t(e,"data-slides-per-view-small",r)),slidesPerGroup:parseFloat(t(e,"data-slides-per-group-small",n))}}})}function a(e){var r=parseFloat(t(e,"data-slides-per-view",1)),n=parseFloat(t(e,"data-slides-per-group",1)),i=parseFloat(t(e,"data-slides-per-view-small",r)),o=parseFloat(t(e,"data-slides-per-group-small",n)),a=parseFloat(t(e,"data-space-between",0)),s={container:e.querySelector(".swiper-container"),nextButton:e.querySelector(".swiper-button-next"),prevButton:e.querySelector(".swiper-button-prev")};return new window.Swiper(s.container,{nextButton:s.nextButton,prevButton:s.prevButton,slidesPerView:r,slidesPerGroup:n,spaceBetween:a+1,breakpoints:{1305:{slidesPerView:i,slidesPerGroup:o,spaceBetween:a}},loop:!0})}function s(e){return new window.Swiper(e,{nextButton:e.querySelector(".swiper-button-next"),prevButton:e.querySelector(".swiper-button-prev"),pagination:e.querySelector(".swiper-pagination"),paginationType:"fraction",slidesPerView:1,paginationClickable:!0,spaceBetween:30,loop:!0})}function l(e){var t=e?e.querySelectorAll(".swiper-wrapper a"):[];return n(t),new window.Swiper(e,{pagination:e.querySelector(".swiper-pagination"),slidesPerView:1,paginationClickable:!0,spaceBetween:30,loop:!1,onSlideChangeEnd:r})}function p(e){var t=e.querySelector(".swiper-pagination"),i=e?e.querySelectorAll(".swiper-wrapper a"):[];n(i);var o=new window.Swiper(e,{slidesPerView:1,paginationClickable:!0,spaceBetween:10,loop:!1,onSlideChangeEnd:r}),a=new window.Swiper(t,{spaceBetween:10,centeredSlides:!0,slidesPerView:"auto",touchRatio:.2,slideToClickedSlide:!0});return o.params.control=a,a.params.control=o,o}function d(e){return new window.Swiper(e,{pagination:e.querySelector(".swiper-pagination"),nextButton:e.querySelector(".swiper-button-next"),prevButton:e.querySelector(".swiper-button-prev"),slidesPerView:1,paginationClickable:!0,spaceBetween:30,loop:!0,autoplay:5e3,autoplayDisableOnInteraction:!1})}function w(e){var r=parseFloat(t(e,"data-slide-per-group",1)),n=parseFloat(t(e,"data-space-between",20)),i=parseFloat(t(e,"data-slides-per-view",1)),o=JSON.parse(t(e,"infinit-loop","true")),a=t(e,"data-slide-initial-slide",1),s=t(e,"data-slide-per-group-small",""),l=t(e,"data-space-between-small",""),p=t(e,"data-slides-per-view-small",""),d={};""!==s&&""!==l&&""!==p&&(d={1305:{slidesPerView:parseFloat(p),spaceBetween:parseFloat(l),slidesPerGroup:parseFloat(s)}});var w={container:e.querySelector(".swiper-container"),nextButton:e.querySelector("#swiper-button-next"),prevButton:e.querySelector("#swiper-button-prev")};return new window.Swiper(w.container,{nextButton:w.nextButton,prevButton:w.prevButton,loop:o,slidesPerView:i,slidesPerGroup:r,spaceBetween:n,breakpoints:d,initialSlide:a})}function u(e){var t="true"===e.getAttribute("data-centeredSlides");return new window.Swiper(e,{pagination:e.querySelector(".swiper-pagination"),paginationClickable:!0,centeredSlides:t,nextButton:e.querySelector(".swiper-button-next"),prevButton:e.querySelector(".swiper-button-prev"),spaceBetween:0,slidesPerView:e.getAttribute("data-slidesPerView"),autoplay:7e3,autoplayDisableOnInteraction:!1})}function c(e){var t="true"===e.getAttribute("data-centeredSlides");return new window.Swiper(e,{paginationClickable:!0,centeredSlides:t,nextButton:e.querySelector(".swiper-button-next"),prevButton:e.querySelector(".swiper-button-prev"),spaceBetween:0,slidesPerView:e.getAttribute("data-slidesPerView"),autoplay:7e3,autoplayDisableOnInteraction:!1})}return{infiniteLoop:i,navigationWithoutPagination:o,fraction:s,thumbnail:p,simplePagination:l,autoplayPagination:d,navigationInfinite:w,carouselHomeBannerStrategy:u,carouselHomeFooterBannerStrategy:c,navigationRecommendationLoop:a}}(window.document);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIl9yZWZhY3RvcmluZy9fbGliL25zL2Nhcm91c2VsL3N0cmF0ZWdpZXMubWluLmpzIl0sIm5hbWVzIjpbIndpbmRvdyIsImZyZWVkb20iLCJjYXJvdXNlbFN0cmF0ZWdpZXMiLCJkb2MiLCJnZXRFbGVtZW50QXR0cmlidXRlIiwiZWxlbWVudCIsImF0dHJpYnV0ZSIsImRlZmF1bHRWYWx1ZSIsImdldEF0dHJpYnV0ZSIsInJlcGxhY2UiLCJvblNsaWRlQ2hhbmdlRW5kIiwic3dpcGVyIiwiaXRlbSIsInN3aXBlckNvbnRhaW5lciIsImNvbnRhaW5lciIsImkiLCJsZW5ndGgiLCJhY3RpdmVUYXJnZXQiLCJzbGlkZXMiLCJhY3RpdmVJbmRleCIsInZpZGVvQWN0aXZlQ2xhc3NOYW1lIiwiaGFzQ2xhc3MiLCJocmVmIiwiZ2V0RGF0YUF0dHJpYnV0ZSIsImRhdGFNb2RhbFRpdGxlIiwibW9kYWxUaXRsZSIsImNyZWF0ZUVsZW1lbnQiLCJoYW5kbGVyIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsIm1vZGFsIiwibnNTbGlkZVB1c2giLCJvcGVuIiwiYWN0aXZlSWZyYW1lIiwibnNWaWRlbyIsImNyZWF0ZSIsImlkIiwiZ2V0UGFybXNGcm9tVXJsIiwidiIsInBhcmFtcyIsImFkZENsYXNzIiwic2V0RGF0YUF0dHJpYnV0ZSIsInVwZGF0ZU1vZHVsZXMiLCJyZW1vdmVFdmVudCIsImFkZEV2ZW50IiwicGFyZW50Tm9kZSIsImRlc3Ryb3kiLCJyZW1vdmVDbGFzcyIsIm11dGVPbkNsaWNrRXZlbnRzT25JdGVtcyIsIml0ZW1zIiwiaW5maW5pdGVMb29wIiwiU3dpcGVyIiwicGFnaW5hdGlvbiIsInF1ZXJ5U2VsZWN0b3IiLCJuZXh0QnV0dG9uIiwicHJldkJ1dHRvbiIsInNsaWRlc1BlclZpZXciLCJwYXJzZUZsb2F0IiwicGFnaW5hdGlvbkNsaWNrYWJsZSIsInNwYWNlQmV0d2VlbiIsImxvb3AiLCJuYXZpZ2F0aW9uV2l0aG91dFBhZ2luYXRpb24iLCJzbGlkZXNQZXJHcm91cCIsImJyZWFrcG9pbnRzIiwiMTMwNSIsIm5hdmlnYXRpb25SZWNvbW1lbmRhdGlvbkxvb3AiLCJzbGlkZXNQZXJWaWV3U21hbGwiLCJzbGlkZXNQZXJHcm91cFNtYWxsIiwiZWxlbWVudHMiLCJmcmFjdGlvbiIsInBhZ2luYXRpb25UeXBlIiwic2ltcGxlUGFnaW5hdGlvbiIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ0aHVtYm5haWwiLCJnYWxsZXJ5RWxlbWVudCIsInBhZ2luYXRpb25FbGVtZW50IiwiZ2FsbGVyeSIsImNlbnRlcmVkU2xpZGVzIiwidG91Y2hSYXRpbyIsInNsaWRlVG9DbGlja2VkU2xpZGUiLCJjb250cm9sIiwiYXV0b3BsYXlQYWdpbmF0aW9uIiwiYXV0b3BsYXkiLCJhdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uIiwibmF2aWdhdGlvbkluZmluaXRlIiwiSlNPTiIsInBhcnNlIiwiaW5pdGlhbFNsaWRlIiwic2xpZGVQZXJHcm91cFNtYWxsIiwic3BhY2VCZXR3ZWVuU21hbGwiLCJjYXJvdXNlbEhvbWVCYW5uZXJTdHJhdGVneSIsImNhcm91c2VsSG9tZUZvb3RlckJhbm5lclN0cmF0ZWd5IiwiZG9jdW1lbnQiXSwibWFwcGluZ3MiOiJBQUFBLFlBRUFBLFFBQU9DLFFBQVFDLG1CQUFzQixTQUFVQyxHQUU3QyxRQUFTQyxHQUFvQkMsRUFBU0MsRUFBV0MsR0FDL0MsTUFBSUYsR0FBUUcsYUFBYUYsR0FDOEMsS0FBOURELEVBQVFHLGFBQWFGLEdBQVdHLFFBQVEsYUFBYyxJQUMzREYsRUFBZUYsRUFBUUcsYUFBYUYsR0FFakNDLEVBT1QsUUFBU0csR0FBaUJDLEdBQ3hCLEdBSUVDLEdBSkVDLEVBQWtCRixFQUFPRyxVQUMzQkMsRUFBSUYsRUFBZ0JHLE9BQ3BCQyxFQUFlTixFQUFPTyxPQUFPUCxFQUFPUSxhQUNwQ0MsRUFBdUIsY0FHekIsSUFBSUgsR0FBZ0JqQixPQUFPQyxRQUFRb0IsU0FBU0osRUFBYyxZQUFhLENBQ3JFLEdBQUlLLEdBQU9MLEVBQWFLLEtB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L3N0cmF0ZWdpZXMubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBzdHJpY3QnO1xuXG53aW5kb3cuZnJlZWRvbS5jYXJvdXNlbFN0cmF0ZWdpZXMgPSAoKGZ1bmN0aW9uKGRvYykge1xuICAvLyBBdXhpbGlhcnkgRnVuY3Rpb25zXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRBdHRyaWJ1dGUoZWxlbWVudCwgYXR0cmlidXRlLCBkZWZhdWx0VmFsdWUgKSB7XG4gICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKGF0dHJpYnV0ZSkpIHtcbiAgICAgIHJldHVybiBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKSA9PT0gJycgP1xuICAgICAgICBkZWZhdWx0VmFsdWUgOiBlbGVtZW50LmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuICAgIH1cbiAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICB9XG5cbiAgLyoqXG4gICAqIG9uU2xpZGVDaGFuZ2VFbmQgQ2FsbGJhY2tcbiAgICogQHBhcmFtICB7W3R5cGVdfSBzd2lwZXIgW2Rlc2NyaXB0aW9uXVxuICAgKi9cbiAgZnVuY3Rpb24gb25TbGlkZUNoYW5nZUVuZChzd2lwZXIpIHtcbiAgICB2YXIgc3dpcGVyQ29udGFpbmVyID0gc3dpcGVyLmNvbnRhaW5lcixcbiAgICAgIGkgPSBzd2lwZXJDb250YWluZXIubGVuZ3RoLFxuICAgICAgYWN0aXZlVGFyZ2V0ID0gc3dpcGVyLnNsaWRlc1tzd2lwZXIuYWN0aXZlSW5kZXhdLFxuICAgICAgdmlkZW9BY3RpdmVDbGFzc05hbWUgPSAndmlkZW8tYWN0aXZlJyxcbiAgICAgIGl0ZW07XG5cbiAgICBpZiAoYWN0aXZlVGFyZ2V0ICYmIHdpbmRvdy5mcmVlZG9tLmhhc0NsYXNzKGFjdGl2ZVRhcmdldCwgJ25zLXZpZGVvJykpIHtcbiAgICAgIHZhciBocmVmID0gYWN0aXZlVGFyZ2V0LmhyZWYgP1xuICAgICAgICBhY3RpdmVUYXJnZXQuaHJlZiA6IHdpbmRvdy5mcmVlZG9tLmdldERhdGFBdHRyaWJ1dGUoYWN0aXZlVGFyZ2V0LCAnaHJlZicpLFxuICAgICAgICBkYXRhTW9kYWxUaXRsZSA9IHdpbmRvdy5mcmVlZG9tLmdldERhdGFBdHRyaWJ1dGUoYWN0aXZlVGFyZ2V0LCAnbW9kYWwtdGl0bGUnKSxcbiAgICAgICAgbW9kYWxUaXRsZSA9IGRhdGFNb2RhbFRpdGxlICYmIGRhdGFNb2RhbFRpdGxlICE9PSAnJyA/IGRhdGFNb2RhbFRpdGxlIDogJ1ZJREVPJyxcbiAgICAgICAgY29udGFpbmVyID0gZG9jLmNyZWF0ZUVsZW1lbnQoJ2RpdicpLFxuICAgICAgICBoYW5kbGVyID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICB3aW5kb3cuZnJlZWRvbS5wcmV2ZW50RGVmYXVsdChldmVudCk7XG4gICAgICAgICAgdmFyIG1vZGFsID0gd2luZG93LmZyZWVkb20ubnNTbGlkZVB1c2gub3Blbihjb250YWluZXIsIG1vZGFsVGl0bGUpLFxuICAgICAgICAgICAgYWN0aXZlSWZyYW1lID0gd2luZG93LmZyZWVkb20ubnNWaWRlby5jcmVhdGUoe1xuICAgICAgICAgICAgICBjb250YWluZXI6IGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgaWQ6IGhyZWYgPyB3aW5kb3cuZnJlZWRvbS5nZXRQYXJtc0Zyb21VcmwoaHJlZikudiA6IG51bGwsXG4gICAgICAgICAgICAgIHBhcmFtczogd2luZG93LmZyZWVkb20uZ2V0RGF0YUF0dHJpYnV0ZShhY3RpdmVUYXJnZXQsICdwYXJhbXMnKSB8fCBudWxsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB3aW5kb3cuZnJlZWRvbS5hZGRDbGFzcyhtb2RhbCwgJ25zLXZpZGVvLW1vZGFsJyk7XG4gICAgICAgICAgaWYgKGFjdGl2ZUlmcmFtZSkge1xuICAgICAgICAgICAgd2luZG93LmZyZWVkb20uc2V0RGF0YUF0dHJpYnV0ZShhY3RpdmVUYXJnZXQsICdkYXRhLWlmcmFtZScsIGFjdGl2ZUlmcmFtZS5pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICB3aW5kb3cuZnJlZWRvbS5hZGRDbGFzcyhjb250YWluZXIsICducy12aWRlby1tb2RhbC1mcmFtZScpO1xuICAgICAgd2luZG93LmZyZWVkb20ubnNWaWRlby51cGRhdGVNb2R1bGVzKCk7XG4gICAgICB3aW5kb3cuZnJlZWRvbS5yZW1vdmVFdmVudCgnY2xpY2snLCBhY3RpdmVUYXJnZXQsIGhhbmRsZXIpO1xuICAgICAgd2luZG93LmZyZWVkb20uYWRkRXZlbnQoJ2NsaWNrJywgYWN0aXZlVGFyZ2V0LCBoYW5kbGVyKTtcblxuICAgICAgd2hpbGUoaS0tKSB7XG4gICAgICAgIGl0ZW0gPSBzd2lwZXJDb250YWluZXJbaV07XG4gICAgICAgIGlmIChpdGVtICYmIGl0ZW0ucGFyZW50Tm9kZSkge1xuICAgICAgICAgIHdpbmRvdy5mcmVlZG9tLmFkZENsYXNzKGl0ZW0ucGFyZW50Tm9kZSwgdmlkZW9BY3RpdmVDbGFzc05hbWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICh3aW5kb3cuZnJlZWRvbS5uc1ZpZGVvICYmIHdpbmRvdy5mcmVlZG9tLm5zVmlkZW8uZGVzdHJveSkge1xuICAgICAgICB3aW5kb3cuZnJlZWRvbS5uc1ZpZGVvLmRlc3Ryb3koKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlKGktLSkge1xuICAgICAgICBpdGVtID0gc3dpcGVyQ29udGFpbmVyW2ldO1xuICAgICAgICBpZiAoaXRlbSAmJiBpdGVtLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICB3aW5kb3cuZnJlZWRvbS5yZW1vdmVDbGFzcyhpdGVtLnBhcmVudE5vZGUsIHZpZGVvQWN0aXZlQ2xhc3NOYW1lKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEUllcbiAgICogUHJldmVudCBvbkNsaWNrIGV2ZW50cyB0byB0aGUgbGlzdCBvZiBpdGVtc1xuICAgKiBAcGFyYW0gaXRlbXMge0FycmF5PEhUTUxFbGVtZW50Pn0gbGlzdCBvZiBpdGVtcyB0byBiZSBtdXRlZFxuICAgKi9cbiAgZnVuY3Rpb24gbXV0ZU9uQ2xpY2tFdmVudHNPbkl0ZW1zKGl0ZW1zKSB7XG4gICAgdmFyIGkgPSBpdGVtcy5sZW5ndGg7XG4gICAgd2hpbGUgKGktLSkge1xuICAgICAgd2luZG93LmZyZWVkb20uYWRkRXZlbnQoJ2NsaWNrJywgaXRlbXNbaV0sIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIHdpbmRvdy5mcmVlZG9tLnByZXZlbnREZWZhdWx0KGV2ZW50KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vU3RyYXRlZ2llc1xuICAvKipcbiAgICpcbiAgICogQHBhcmFtIGVsZW1lbnQge0hUTUxFbGVtZW50fSBET00gRWxlbWVudCB0byBiZSBpbml0aWFsaXplZCBhcyBzd2lwZXIgY2Fyb3VzZWwuXG4gICAqIEByZXR1cm5zIHtXaW5kb3cuU3dpcGVyfFN3aXBlcn1cbiAgICovXG4gIGZ1bmN0aW9uIGluZmluaXRlTG9vcChlbGVtZW50KSB7XG4gICAgcmV0dXJuIG5ldyB3aW5kb3cuU3dpcGVyKGVsZW1lbnQsIHtcbiAgICAgIHBhZ2luYXRpb246IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXBlci1wYWdpbmF0aW9uJyksXG4gICAgICBuZXh0QnV0dG9uOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItYnV0dG9uLW5leHQnKSxcbiAgICAgIHByZXZCdXR0b246IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXBlci1idXR0b24tcHJldicpLFxuICAgICAgc2xpZGVzUGVyVmlldzogcGFyc2VGbG9hdChnZXRFbGVtZW50QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLXNsaWRlcy1wZXItdmlldycsIDEpKSxcbiAgICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXG4gICAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgICAgbG9vcDogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbmF2aWdhdGlvbldpdGhvdXRQYWdpbmF0aW9uKGVsZW1lbnQpIHtcbiAgICB2YXIgc2xpZGVzUGVyVmlldyA9IHBhcnNlRmxvYXQoZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1zbGlkZXMtcGVyLXZpZXcnLCAxKSk7XG4gICAgdmFyIHNsaWRlc1Blckdyb3VwID0gcGFyc2VGbG9hdChnZXRFbGVtZW50QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLXNsaWRlcy1wZXItZ3JvdXAnLCAxKSk7XG4gICAgcmV0dXJuIG5ldyB3aW5kb3cuU3dpcGVyKGVsZW1lbnQsIHtcbiAgICAgIG5leHRCdXR0b246IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXBlci1idXR0b24tbmV4dCcpLFxuICAgICAgcHJldkJ1dHRvbjogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLWJ1dHRvbi1wcmV2JyksXG4gICAgICBzbGlkZXNQZXJWaWV3OiBwYXJzZUZsb2F0KGdldEVsZW1lbnRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtc2xpZGVzLXBlci12aWV3JywgMSkpLFxuICAgICAgc2xpZGVzUGVyR3JvdXA6IHBhcnNlRmxvYXQoZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1zbGlkZXMtcGVyLWdyb3VwJywgMSkpLFxuICAgICAgc3BhY2VCZXR3ZWVuOiBwYXJzZUZsb2F0KGdldEVsZW1lbnRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtc3BhY2UtYmV0d2VlbicsIDApKSxcbiAgICAgIGJyZWFrcG9pbnRzIDoge1xuICAgICAgICAxMzA1OiB7XG4gICAgICAgICAgc2xpZGVzUGVyVmlldzogcGFyc2VGbG9hdChnZXRFbGVtZW50QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLXNsaWRlcy1wZXItdmlldy1zbWFsbCcsIHNsaWRlc1BlclZpZXcpKSxcbiAgICAgICAgICBzbGlkZXNQZXJHcm91cDogcGFyc2VGbG9hdChnZXRFbGVtZW50QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLXNsaWRlcy1wZXItZ3JvdXAtc21hbGwnLCBzbGlkZXNQZXJHcm91cCkpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5hdmlnYXRpb25SZWNvbW1lbmRhdGlvbkxvb3AoZWxlbWVudCkge1xuICAgIHZhciBzbGlkZXNQZXJWaWV3ID0gcGFyc2VGbG9hdChnZXRFbGVtZW50QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLXNsaWRlcy1wZXItdmlldycsIDEpKTtcbiAgICB2YXIgc2xpZGVzUGVyR3JvdXAgPSBwYXJzZUZsb2F0KGdldEVsZW1lbnRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtc2xpZGVzLXBlci1ncm91cCcsIDEpKTtcbiAgICB2YXIgc2xpZGVzUGVyVmlld1NtYWxsID0gcGFyc2VGbG9hdChnZXRFbGVtZW50QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLXNsaWRlcy1wZXItdmlldy1zbWFsbCcsIHNsaWRlc1BlclZpZXcpKTtcbiAgICB2YXIgc2xpZGVzUGVyR3JvdXBTbWFsbCA9IHBhcnNlRmxvYXQoZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1zbGlkZXMtcGVyLWdyb3VwLXNtYWxsJywgc2xpZGVzUGVyR3JvdXApKTtcbiAgICB2YXIgc3BhY2VCZXR3ZWVuID0gcGFyc2VGbG9hdChnZXRFbGVtZW50QXR0cmlidXRlKGVsZW1lbnQsICdkYXRhLXNwYWNlLWJldHdlZW4nLCAwKSk7XG5cblxuICAgIHZhciBlbGVtZW50cyA9IHtcbiAgICAgIGNvbnRhaW5lcjogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLWNvbnRhaW5lcicpLFxuICAgICAgbmV4dEJ1dHRvbjogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLWJ1dHRvbi1uZXh0JyksXG4gICAgICBwcmV2QnV0dG9uOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItYnV0dG9uLXByZXYnKVxuICAgIH07XG5cbiAgICByZXR1cm4gbmV3IHdpbmRvdy5Td2lwZXIoZWxlbWVudHMuY29udGFpbmVyLCB7XG4gICAgICBuZXh0QnV0dG9uOiBlbGVtZW50cy5uZXh0QnV0dG9uLFxuICAgICAgcHJldkJ1dHRvbjogZWxlbWVudHMucHJldkJ1dHRvbixcbiAgICAgIHNsaWRlc1BlclZpZXc6IHNsaWRlc1BlclZpZXcsXG4gICAgICBzbGlkZXNQZXJHcm91cDogc2xpZGVzUGVyR3JvdXAsXG4gICAgICBzcGFjZUJldHdlZW46IHNwYWNlQmV0d2VlbiArIDEsXG4gICAgICBicmVha3BvaW50cyA6IHtcbiAgICAgICAgMTMwNToge1xuICAgICAgICAgIHNsaWRlc1BlclZpZXc6IHNsaWRlc1BlclZpZXdTbWFsbCxcbiAgICAgICAgICBzbGlkZXNQZXJHcm91cDogc2xpZGVzUGVyR3JvdXBTbWFsbCxcbiAgICAgICAgICBzcGFjZUJldHdlZW46IHNwYWNlQmV0d2VlblxuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgbG9vcDogdHJ1ZVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IHtIVE1MRWxlbWVudH0gRE9NIEVsZW1lbnQgdG8gYmUgaW5pdGlhbGl6ZWQgYXMgc3dpcGVyIGNhcm91c2VsLlxuICAgKiBAcmV0dXJucyB7V2luZG93LlN3aXBlcnxTd2lwZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBmcmFjdGlvbihlbGVtZW50KSB7XG4gICAgcmV0dXJuIG5ldyB3aW5kb3cuU3dpcGVyKGVsZW1lbnQsIHtcbiAgICAgIG5leHRCdXR0b246IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXBlci1idXR0b24tbmV4dCcpLFxuICAgICAgcHJldkJ1dHRvbjogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLWJ1dHRvbi1wcmV2JyksXG4gICAgICBwYWdpbmF0aW9uOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItcGFnaW5hdGlvbicpLFxuICAgICAgcGFnaW5hdGlvblR5cGU6ICdmcmFjdGlvbicsXG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgcGFnaW5hdGlvbkNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgIHNwYWNlQmV0d2VlbjogMzAsXG4gICAgICBsb29wOiB0cnVlXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogU2ltcGxlc3QgY2Fyb3VzZWwgd2l0aCBkb3RzIGFzIHBhZ2luYXRpb24gYW5kIG11dGVkIGNsaWNrIGV2ZW50c1xuICAgKiBAcGFyYW0gZWxlbWVudCB7SFRNTEVsZW1lbnR9IERPTSBFbGVtZW50IHRvIGJlIGluaXRpYWxpemVkIGFzIHN3aXBlciBjYXJvdXNlbC5cbiAgICogQHJldHVybnMge1dpbmRvdy5Td2lwZXJ8U3dpcGVyfVxuICAgKi9cbiAgZnVuY3Rpb24gc2ltcGxlUGFnaW5hdGlvbihlbGVtZW50KSB7XG4gICAgdmFyIGl0ZW1zID0gZWxlbWVudCA/IGVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN3aXBlci13cmFwcGVyIGEnKSA6IFtdO1xuXG4gICAgbXV0ZU9uQ2xpY2tFdmVudHNPbkl0ZW1zKGl0ZW1zKTtcblxuICAgIHJldHVybiBuZXcgd2luZG93LlN3aXBlcihlbGVtZW50LCB7XG4gICAgICBwYWdpbmF0aW9uOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItcGFnaW5hdGlvbicpLFxuICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXG4gICAgICBzcGFjZUJldHdlZW46IDMwLFxuICAgICAgbG9vcDogZmFsc2UsXG4gICAgICBvblNsaWRlQ2hhbmdlRW5kOiBvblNsaWRlQ2hhbmdlRW5kXG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogQ2Fyb3VzZWwgd2l0aCB0aHVtYm5haWxzIGFzIHBhZ2luYXRpb24gSXRlbXNcbiAgICogQHBhcmFtIGdhbGxlcnlFbGVtZW50IHtIVE1MRWxlbWVudH0gRE9NIEVsZW1lbnQgdG8gYmUgaW5pdGlhbGl6ZWQgYXMgc3dpcGVyIGNhcm91c2VsLlxuICAgKiBAcmV0dXJucyB7V2luZG93LlN3aXBlcnxTd2lwZXJ9XG4gICAqL1xuICBmdW5jdGlvbiB0aHVtYm5haWwoZ2FsbGVyeUVsZW1lbnQpIHtcbiAgICB2YXIgcGFnaW5hdGlvbkVsZW1lbnQgPSBnYWxsZXJ5RWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXBhZ2luYXRpb24nKTtcbiAgICB2YXIgaXRlbXMgPSBnYWxsZXJ5RWxlbWVudCA/IGdhbGxlcnlFbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zd2lwZXItd3JhcHBlciBhJykgOiBbXTtcbiAgICBtdXRlT25DbGlja0V2ZW50c09uSXRlbXMoaXRlbXMpO1xuXG4gICAgdmFyIGdhbGxlcnkgPSBuZXcgd2luZG93LlN3aXBlcihnYWxsZXJ5RWxlbWVudCwge1xuICAgICAgc2xpZGVzUGVyVmlldzogMSxcbiAgICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXG4gICAgICBzcGFjZUJldHdlZW46IDEwLFxuICAgICAgbG9vcDogZmFsc2UsXG4gICAgICBvblNsaWRlQ2hhbmdlRW5kOiBvblNsaWRlQ2hhbmdlRW5kXG4gICAgfSk7XG4gICAgdmFyIHBhZ2luYXRpb24gPSBuZXcgd2luZG93LlN3aXBlcihwYWdpbmF0aW9uRWxlbWVudCwge1xuICAgICAgc3BhY2VCZXR3ZWVuOiAxMCxcbiAgICAgIGNlbnRlcmVkU2xpZGVzOiB0cnVlLFxuICAgICAgc2xpZGVzUGVyVmlldzogJ2F1dG8nLFxuICAgICAgdG91Y2hSYXRpbzogMC4yLFxuICAgICAgc2xpZGVUb0NsaWNrZWRTbGlkZTogdHJ1ZVxuICAgIH0pO1xuXG4gICAgZ2FsbGVyeS5wYXJhbXMuY29udHJvbCA9IHBhZ2luYXRpb247XG4gICAgcGFnaW5hdGlvbi5wYXJhbXMuY29udHJvbCA9IGdhbGxlcnk7XG5cbiAgICByZXR1cm4gZ2FsbGVyeTtcbiAgfVxuXG4gIC8qKlxuICAgKlxuICAgKiBAcGFyYW0gZWxlbWVudCB7SFRNTEVsZW1lbnR9IERPTSBFbGVtZW50IHRvIGJlIGluaXRpYWxpemVkIGFzIHN3aXBlciBjYXJvdXNlbC5cbiAgICogQHJldHVybnMge1dpbmRvdy5Td2lwZXJ8U3dpcGVyfVxuICAgKi9cbiAgZnVuY3Rpb24gYXV0b3BsYXlQYWdpbmF0aW9uKGVsZW1lbnQpIHtcbiAgICByZXR1cm4gbmV3IHdpbmRvdy5Td2lwZXIoZWxlbWVudCwge1xuICAgICAgcGFnaW5hdGlvbjogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXBhZ2luYXRpb24nKSxcbiAgICAgIG5leHRCdXR0b246IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXBlci1idXR0b24tbmV4dCcpLFxuICAgICAgcHJldkJ1dHRvbjogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLWJ1dHRvbi1wcmV2JyksXG4gICAgICBzbGlkZXNQZXJWaWV3OiAxLFxuICAgICAgcGFnaW5hdGlvbkNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgIHNwYWNlQmV0d2VlbjogMzAsXG4gICAgICBsb29wOiB0cnVlLFxuICAgICAgYXV0b3BsYXk6IDUwMDAsXG4gICAgICBhdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqXG4gICAqIEBwYXJhbSBlbGVtZW50IHtIVE1MRWxlbWVudH0gRE9NIEVsZW1lbnQgdG8gYmUgaW5pdGlhbGl6ZWQgYXMgc3dpcGVyIGNhcm91c2VsLlxuICAgKiBAcmV0dXJucyB7V2luZG93LlN3aXBlcnxTd2lwZXJ9XG4gICAqL1xuICBmdW5jdGlvbiBuYXZpZ2F0aW9uSW5maW5pdGUoZWxlbWVudCkge1xuICAgIHZhciBzbGlkZXNQZXJHcm91cCA9IHBhcnNlRmxvYXQoZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1zbGlkZS1wZXItZ3JvdXAnLCAxKSk7XG4gICAgdmFyIHNwYWNlQmV0d2VlbiA9IHBhcnNlRmxvYXQoZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1zcGFjZS1iZXR3ZWVuJywgMjApKTtcbiAgICB2YXIgc2xpZGVzUGVyVmlldyA9IHBhcnNlRmxvYXQoZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1zbGlkZXMtcGVyLXZpZXcnLCAxKSk7XG4gICAgdmFyIGxvb3AgPSBKU09OLnBhcnNlKGdldEVsZW1lbnRBdHRyaWJ1dGUoZWxlbWVudCwgJ2luZmluaXQtbG9vcCcsIFwidHJ1ZVwiKSk7XG4gICAgdmFyIGluaXRpYWxTbGlkZSA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtc2xpZGUtaW5pdGlhbC1zbGlkZScsIDEpO1xuICAgIC8vIEFkanVzdG1lbnRzIGZvciBzbWFsbGVyIHZpZXdwb3J0XG4gICAgdmFyIHNsaWRlUGVyR3JvdXBTbWFsbCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtc2xpZGUtcGVyLWdyb3VwLXNtYWxsJywgJycpO1xuICAgIHZhciBzcGFjZUJldHdlZW5TbWFsbCA9IGdldEVsZW1lbnRBdHRyaWJ1dGUoZWxlbWVudCwgJ2RhdGEtc3BhY2UtYmV0d2Vlbi1zbWFsbCcsICcnKTtcbiAgICB2YXIgc2xpZGVzUGVyVmlld1NtYWxsID0gZ2V0RWxlbWVudEF0dHJpYnV0ZShlbGVtZW50LCAnZGF0YS1zbGlkZXMtcGVyLXZpZXctc21hbGwnLCAnJyk7XG5cbiAgICB2YXIgYnJlYWtwb2ludHMgPSB7fTtcbiAgICBpZiAoc2xpZGVQZXJHcm91cFNtYWxsICE9PSAnJyAmJiBzcGFjZUJldHdlZW5TbWFsbCAhPT0gJycgJiYgc2xpZGVzUGVyVmlld1NtYWxsICE9PSAnJykge1xuICAgICAgYnJlYWtwb2ludHMgPSB7XG4gICAgICAgIDEzMDU6IHtcbiAgICAgICAgICBzbGlkZXNQZXJWaWV3OiBwYXJzZUZsb2F0KHNsaWRlc1BlclZpZXdTbWFsbCksXG4gICAgICAgICAgc3BhY2VCZXR3ZWVuOiBwYXJzZUZsb2F0KHNwYWNlQmV0d2VlblNtYWxsKSxcbiAgICAgICAgICBzbGlkZXNQZXJHcm91cDogcGFyc2VGbG9hdChzbGlkZVBlckdyb3VwU21hbGwpXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIHZhciBlbGVtZW50cyA9IHtcbiAgICAgIGNvbnRhaW5lcjogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLWNvbnRhaW5lcicpLFxuICAgICAgbmV4dEJ1dHRvbjogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjc3dpcGVyLWJ1dHRvbi1uZXh0JyksXG4gICAgICBwcmV2QnV0dG9uOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzd2lwZXItYnV0dG9uLXByZXYnKVxuICAgIH07XG5cbiAgICByZXR1cm4gbmV3IHdpbmRvdy5Td2lwZXIoZWxlbWVudHMuY29udGFpbmVyLCB7XG4gICAgICBuZXh0QnV0dG9uOiBlbGVtZW50cy5uZXh0QnV0dG9uLFxuICAgICAgcHJldkJ1dHRvbjogZWxlbWVudHMucHJldkJ1dHRvbixcbiAgICAgIGxvb3A6IGxvb3AsXG4gICAgICBzbGlkZXNQZXJWaWV3OiBzbGlkZXNQZXJWaWV3LFxuICAgICAgc2xpZGVzUGVyR3JvdXA6IHNsaWRlc1Blckdyb3VwLFxuICAgICAgc3BhY2VCZXR3ZWVuOiBzcGFjZUJldHdlZW4sXG4gICAgICBicmVha3BvaW50czogYnJlYWtwb2ludHMsXG4gICAgICBpbml0aWFsU2xpZGU6IGluaXRpYWxTbGlkZVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2Fyb3VzZWxIb21lQmFubmVyU3RyYXRlZ3koZWxlbWVudCkge1xuICAgIHZhciBjZW50ZXJlZFNsaWRlcyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNlbnRlcmVkU2xpZGVzJykgPT09ICd0cnVlJztcbiAgICByZXR1cm4gbmV3IHdpbmRvdy5Td2lwZXIoZWxlbWVudCwge1xuICAgICAgcGFnaW5hdGlvbjogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLXBhZ2luYXRpb24nKSxcbiAgICAgIHBhZ2luYXRpb25DbGlja2FibGU6IHRydWUsXG4gICAgICBjZW50ZXJlZFNsaWRlczogY2VudGVyZWRTbGlkZXMsXG4gICAgICBuZXh0QnV0dG9uOiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zd2lwZXItYnV0dG9uLW5leHQnKSxcbiAgICAgIHByZXZCdXR0b246IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXBlci1idXR0b24tcHJldicpLFxuICAgICAgc3BhY2VCZXR3ZWVuOiAwLFxuICAgICAgc2xpZGVzUGVyVmlldzogZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ2RhdGEtc2xpZGVzUGVyVmlldycpLFxuICAgICAgYXV0b3BsYXk6IDcwMDAsXG4gICAgICBhdXRvcGxheURpc2FibGVPbkludGVyYWN0aW9uOiBmYWxzZVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2Fyb3VzZWxIb21lRm9vdGVyQmFubmVyU3RyYXRlZ3koZWxlbWVudCkge1xuICAgIHZhciBjZW50ZXJlZFNsaWRlcyA9IGVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLWNlbnRlcmVkU2xpZGVzJykgPT09ICd0cnVlJztcbiAgICByZXR1cm4gbmV3IHdpbmRvdy5Td2lwZXIoZWxlbWVudCwge1xuICAgICAgcGFnaW5hdGlvbkNsaWNrYWJsZTogdHJ1ZSxcbiAgICAgIGNlbnRlcmVkU2xpZGVzOiBjZW50ZXJlZFNsaWRlcyxcbiAgICAgIG5leHRCdXR0b246IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN3aXBlci1idXR0b24tbmV4dCcpLFxuICAgICAgcHJldkJ1dHRvbjogZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3dpcGVyLWJ1dHRvbi1wcmV2JyksXG4gICAgICBzcGFjZUJldHdlZW46IDAsXG4gICAgICBzbGlkZXNQZXJWaWV3OiBlbGVtZW50LmdldEF0dHJpYnV0ZSgnZGF0YS1zbGlkZXNQZXJWaWV3JyksXG4gICAgICBhdXRvcGxheTogNzAwMCxcbiAgICAgIGF1dG9wbGF5RGlzYWJsZU9uSW50ZXJhY3Rpb246IGZhbHNlXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGluZmluaXRlTG9vcDogaW5maW5pdGVMb29wLFxuICAgIG5hdmlnYXRpb25XaXRob3V0UGFnaW5hdGlvbjogbmF2aWdhdGlvbldpdGhvdXRQYWdpbmF0aW9uLFxuICAgIGZyYWN0aW9uOiBmcmFjdGlvbixcbiAgICB0aHVtYm5haWw6IHRodW1ibmFpbCxcbiAgICBzaW1wbGVQYWdpbmF0aW9uOiBzaW1wbGVQYWdpbmF0aW9uLFxuICAgIGF1dG9wbGF5UGFnaW5hdGlvbjogYXV0b3BsYXlQYWdpbmF0aW9uLFxuICAgIG5hdmlnYXRpb25JbmZpbml0ZTogbmF2aWdhdGlvbkluZmluaXRlLFxuICAgIGNhcm91c2VsSG9tZUJhbm5lclN0cmF0ZWd5OiBjYXJvdXNlbEhvbWVCYW5uZXJTdHJhdGVneSxcbiAgICBjYXJvdXNlbEhvbWVGb290ZXJCYW5uZXJTdHJhdGVneTogY2Fyb3VzZWxIb21lRm9vdGVyQmFubmVyU3RyYXRlZ3ksXG4gICAgbmF2aWdhdGlvblJlY29tbWVuZGF0aW9uTG9vcDogbmF2aWdhdGlvblJlY29tbWVuZGF0aW9uTG9vcFxuICB9O1xuXG59KSh3aW5kb3cuZG9jdW1lbnQpKTtcbiJdfQ==
